import {
  CommonPaper,
  CommonPaperComponent,
} from "../../../../components/common";
import React, { useState } from "react";
import { useMigrationVulnerabilityContext } from "../../context/vulnerability-areas";
import { Button } from "@mui/material";
import { MigrationAreaVulnerabilityModal } from "./modal";

export const MigrationsVulnerability = () => {
  const { selectedAreas, form } = useMigrationVulnerabilityContext();
  const [openVulnerability, setOpenVulnerability] = useState(false);

  return (
    <CommonPaper>
      <div>VULNERABILITY</div>
      selected areas {selectedAreas.length}
      <Button onClick={() => setOpenVulnerability(true)}>Config</Button>
      {openVulnerability && (
        <MigrationAreaVulnerabilityModal
          onCancelClick={() => setOpenVulnerability(false)}
        />
      )}
      {form && <Button onClick={() => form.submitForm()}>Run</Button>}
    </CommonPaper>
  );
};
